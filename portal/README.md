## Портал ЕЦОФ — фронтенд

Этот проект — веб‑портал для ЕЦОФ, который даёт бухгалтерам и дочерним обществам **единое окно** для работы с первичными документами и отчётностью, при этом **1С:Управление холдингом (УХ)** остаётся учётным ядром.

Фронтенд реализован как одностраничное приложение (SPA) на **React + TypeScript + Vite** с использованием **Ant Design** для базовых UI‑компонентов.

---

### Технологический стек

- **React 18 + TypeScript**
- **Vite** — быстрая сборка и dev‑сервер
- **React Router 6** — маршрутизация по разделам портала
- **Ant Design 5** — таблицы, карточки, layout, базовые контролы

---

### Структура проекта

- `index.html` — корневой HTML шаблон
- `vite.config.ts` — конфигурация Vite
- `tsconfig.json` — настройки TypeScript
- `src/main.tsx` — точка входа приложения, подключение роутера
- `src/App.tsx` — основной layout и таблица маршрутов
- `src/components/layout/`
  - `AppSidebar.tsx` — левое меню навигации
  - `AppHeader.tsx` — верхняя панель (заголовок, уведомления, профиль)
- `src/pages/`
  - `DashboardPage.tsx` — обзор ЕЦОФ (дашборд)
  - `PackagesPage.tsx` — список пакетов первички
  - `DocumentsPage.tsx` — список документов с двуступенчатыми статусами (портал/УХ)
  - `ReportsPage.tsx` — выдача отчётности
  - `IntegrationMonitorPage.tsx` — монитор интеграции с УХ
- `src/styles.css` — базовые глобальные стили портала

---

### Основные разделы портала (фронтенд)

- **Дашборд**: сводные показатели по пакетам, ошибкам, очередям и быстрые ссылки.
- **Пакеты**: реестр пакетов от дочек с основными атрибутами и статусом обработки.
- **Документы**: реестр первичных документов с отображением:
  - статуса в портале (Draft / Validated / Frozen / QueuedToUH / SentToUH),
  - статуса в УХ (None / Accepted / Posted / Error).
- **Отчётность**: список отчётных пакетов (РСБУ и управленка) для скачивания.
- **Интеграция с УХ**: монитор очереди операций (upsert/post документов и др.).

Карточки документов, пакетов и детальные экраны будут дорабатываться поверх этого каркаса.

---

### Связь с УХ на уровне фронтенда

Фронтенд не работает напрямую с 1С или её БД:

- Все операции выполняются через **backend‑API портала** (HTTP/JSON), которое:
  - обслуживает UI (списки, карточки, статусы, файлы),
  - оркестрирует вызовы в УХ (через свои сервисы/очереди),
  - скрывает от фронтенда детали интеграции и модель данных УХ.
- Фронтенд оперирует понятиями:
  - **пакет**, **документ**, **версия документа**, **статусы**,
  - а также “проекции” НСИ (организации, контрагенты и т.д.), кэшируемые на стороне портала.

Таким образом, SPA‑портал остаётся тонким клиентом над backend‑порталом и не зависит от внутренних таблиц 1С.

---

### Скрипты разработки

Из каталога `portal`:

- `npm install` — установка зависимостей
- `npm run dev` — запуск dev‑сервера Vite
- `npm run build` — production‑сборка
- `npm run preview` — предпросмотр production‑сборки

